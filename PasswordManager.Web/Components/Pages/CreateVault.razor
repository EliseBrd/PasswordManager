@page "/createVault"
@inject NavigationManager NavigationManager

@using System.Security.Cryptography
@using System.Text

<PageTitle>Créer un coffre</PageTitle>

<div class="vaultCreateContainer">
    <div class="vaultCreateCard">
        <div class="vaultCreateHeader">
            <i class="fa-solid fa-lock"></i>
            <h2>Créer un coffre</h2>
            <p>Renseignez les informations ci-dessous pour créer un nouveau coffre.</p>
        </div>

        <div class="vaultCreateform">

            <div class="sectionForm">
                <label for="vaultName">Nom du coffre</label>
                <input id="vaultName"
                       type="text"
                       placeholder="Ex : Coffre personnel" />
            </div>

            <!-- MOT DE PASSE -->
            <div class="sectionForm">
                <label for="vaultPassword">Mot de passe</label>
                <input id="vaultPassword"
                       type="text"
                       placeholder="Entrez un mot de passe"
                       value="@vaultPassword"
                       @oninput="OnPasswordInput" />
            </div>

            <!-- GÉNÉRATEUR -->
            <button type="button"
                    class="btn-secondary"
                    @onclick="GeneratePassword">
                <i class="fa-solid fa-wand-magic-sparkles"></i>
                Générer un mot de passe
            </button>

            <!-- FORCE & ENTROPIE -->
            <div class="passwordStrength">
                <div class="strengthBar"
                     style="width:@BarWidth%; background-color:@StrengthColor">
                </div>

                <span class="strengthLabel" style="color:@StrengthColor">
                    @(string.IsNullOrEmpty(vaultPassword) ? "" : $"{strengthLabel} ({passwordEntropy:0.0} bits)")
                </span>

            </div>

            <button type="button"
                    class="btn-primary"
                    @onclick="eventCreateVault">
                <i class="fa-solid fa-check"></i>
                Enregistrer
            </button>
        </div>
    </div>
</div>